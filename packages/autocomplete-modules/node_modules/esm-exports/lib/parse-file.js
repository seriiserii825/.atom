"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var parse_1 = require("./parse");
var utils_1 = require("./utils");
function parseFile(file, options) {
    var dirname = options.dirname, module = options.module;
    var filepath;
    return utils_1.findFile(file, dirname)
        .then(function (file) {
        if (!file)
            return Promise.reject(undefined);
        filepath = file;
        return utils_1.readFile(filepath, 'utf8');
    })
        .then(function (sourceText) {
        return parse_1.parse(sourceText, { filepath: filepath, module: module });
    })
        .catch(function (err) {
        return Promise.resolve([]);
    });
}
exports.parseFile = parseFile;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFyc2UtZmlsZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9wYXJzZS1maWxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsaUNBQWdDO0FBRWhDLGlDQUE2QztBQU83QyxtQkFBMEIsSUFBWSxFQUFFLE9BQXlCO0lBQ3hELElBQUEseUJBQU8sRUFBRSx1QkFBTSxDQUFhO0lBQ3BDLElBQUksUUFBZ0IsQ0FBQztJQUNyQixNQUFNLENBQUMsZ0JBQVEsQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDO1NBQzVCLElBQUksQ0FBQyxVQUFBLElBQUk7UUFDVCxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztZQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzVDLFFBQVEsR0FBRyxJQUFJLENBQUM7UUFDaEIsTUFBTSxDQUFDLGdCQUFRLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ25DLENBQUMsQ0FBQztTQUNELElBQUksQ0FBQyxVQUFDLFVBQWtCO1FBQ3hCLE1BQU0sQ0FBQyxhQUFLLENBQUMsVUFBVSxFQUFFLEVBQUUsUUFBUSxVQUFBLEVBQUUsTUFBTSxRQUFBLEVBQUUsQ0FBQyxDQUFDO0lBQ2hELENBQUMsQ0FBQztTQUNELEtBQUssQ0FBQyxVQUFBLEdBQUc7UUFDVCxNQUFNLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUM1QixDQUFDLENBQUMsQ0FBQztBQUNMLENBQUM7QUFmRCw4QkFlQyJ9